# campaigns - Gerenciamento de Campanhas

**route.ts**: API principal de campanhas. **GET**: Lista campanhas do DEMO_USER_ID ordenadas por createdAt desc, inclui count de leads. **POST**: Cria nova campanha com rate limiting (10/hora por IP), validação Zod (CreateCampaignSchema), calcula custo via pricing-service, busca UserSettings para validar campos obrigatórios no modo COMPLETO (retorna missingFieldsByPage se faltar: nomeEmpresa, assinatura, templates, senderEmails/evolutionInstances), transação atômica (cria campanha + debita créditos do usuário + cria timeout timestamp), calcula timeout via calculateCampaignTimeout, dispara N8N webhook com POST para iniciar extração de leads. Campos validados: titulo, tipoNegocio, localizacao, quantidade (max 100), nivelServico (basico/completo), cadenceType (email_only/whatsapp_only/hybrid).
